(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{35:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s}));var c="bbb8d7b7bccecfd8830020668d0f04c2",a="https://api.themoviedb.org/3";function o(){return fetch("".concat(a,"/trending/movie/day?api_key=").concat(c)).then((function(e){return e.json()}))}function r(e){return fetch("".concat(a,"/movie/").concat(e,"?api_key=").concat(c,"&language=en-US")).then((function(e){return e.json()}))}function i(e){return fetch("".concat(a,"/movie/").concat(e,"/credits?api_key=").concat(c,"&language=en-US")).then((function(e){return e.json()}))}function u(e){return fetch("".concat(a,"/movie/").concat(e,"/reviews?api_key=").concat(c,"&language=en-US")).then((function(e){return e.json()}))}function s(e){return fetch("".concat(a,"/search/movie?api_key=").concat(c,"&language=en-US&query=").concat(e,"&page=1&include_adult=false")).then((function(e){return e.json()}))}},41:function(e,t,n){e.exports={Searchbar:"MoviesPage_Searchbar__2PVQS",SearchForm:"MoviesPage_SearchForm__3D6yb",SearchForm__button:"MoviesPage_SearchForm__button__3JUO8","SearchForm-button":"MoviesPage_SearchForm-button__1ditL",SearchForm__button__label:"MoviesPage_SearchForm__button__label__1f57K",SearchForm__input:"MoviesPage_SearchForm__input__3y2S-","SearchForm-input":"MoviesPage_SearchForm-input__2fdxO",list__movies:"MoviesPage_list__movies__R3KM8",item__link:"MoviesPage_item__link__3VRt5",item__movie:"MoviesPage_item__movie__1SzjH"}},47:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var c=n(39),a=n(36),o=n(0),r=n(2),i=n(8),u=n(46),s=n(41),_=n.n(s),l=n(35),h=n(1);function m(){var e,t=Object(o.useState)(""),n=Object(a.a)(t,2),s=n[0],m=n[1],b=Object(o.useState)(""),f=Object(a.a)(b,2),j=f[0],d=f[1],v=Object(o.useState)(null),g=Object(a.a)(v,2),p=g[0],S=g[1],O=Object(r.i)().url,F=Object(r.f)(),x=Object(r.g)(),y=new URLSearchParams(x.search).get("query");return Object(o.useEffect)((function(){j&&l.e(j).then((function(e){return S(Object(c.a)({},e))}))}),[j]),Object(o.useEffect)((function(){y&&m(y),d(y)}),[y]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:_.a.Searchbar,children:Object(h.jsxs)("form",{className:_.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===s.trim())return u.a.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});d(s),F.push(Object(c.a)(Object(c.a)({},x),{},{search:"query=".concat(s)}))},children:[Object(h.jsx)("button",{type:"submit",className:_.a.SearchForm__button,children:Object(h.jsx)("span",{className:_.a.SearchForm__button__label,children:"\u041f\u043e\u0438\u0441\u043a"})}),Object(h.jsx)("input",{className:_.a.SearchForm__input,type:"text",value:s,onChange:function(e){m(e.currentTarget.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})]})}),Object(h.jsx)("div",{children:Object(h.jsx)("ul",{className:_.a.list__movies,children:p&&(null===p||void 0===p||null===(e=p.results)||void 0===e?void 0:e.map((function(e){return Object(h.jsx)("li",{className:_.a.item__movie,children:Object(h.jsx)(i.b,{to:{pathname:"".concat(O,"/").concat(e.id),state:{from:{location:x,label:"\u041d\u0430\u0437\u0430\u0434 \u043a \u043f\u043e\u0438\u0441\u043a\u0443"}}},className:_.a.item__link,children:e.original_title})},e.id)})))})})]})}}}]);
//# sourceMappingURL=MoviesPage.4ec5efbb.chunk.js.map